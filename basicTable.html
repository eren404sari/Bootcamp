<html>

<head>
    <script type="text/javascript" src="table_script.js"></script>
</head>

<body>
    <div id="wrapper">
        <table align='center' cellspacing=2 cellpadding=5 id="data_table" border=1>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Date of Birth</th>
                <th>Date of Joining</th>
            </tr>


            <tr>
                <td><input type="text" id="fname" value = "John"></td>
                <td><input type="text" id="lname" value = "Doe"></td>
                <td><input type="text" id="dob" value = "mmddyyyy"></td>
                <td><input type="text" id="doj" value = "mmddyyyy" ></td>
                <td><input type="button" class="add" onclick="add_row();" value="Add Row"></td>
            </tr>

        </table>
    </div>

</body>
<script>
    function edit_row(no) {
            document.getElementById("edit_button" + no).style.display = "none";

            var fname = document.getElementById("fname_row" + no);
            var lname = document.getElementById("lname_row" + no);
            var dob = document.getElementById("dob_row" + no);
            var doj = document.getElementById("doj_row" + no);

            var fname_entry = fname.innerHTML;
            var lname_entry = lname.innerHTML;
            var dob_entry = dob.innerHTML;
            var doj_entry = doj.innerHTML;

            fname.innerHTML = "<input type='text' id='fname_text" + no + "' value='" + fname_entry + "'>";
            lname.innerHTML = "<input type='text' id='lname_text" + no + "' value='" + lname_entry + "'>";
            dob.innerHTML = "<input type='text' id='dob_text" + no + "' value='" + dob_entry + "'>";
            doj.innerHTML = "<input type='text' id='doj_text" + no + "' value='" + doj_entry + "'>";
        }

        function save_row(no) {
            var fname_val = document.getElementById("fname_text" + no).value;
            var lname_val = document.getElementById("lname_text" + no).value;
            var dob_val = document.getElementById("dob_text" + no).value;
            var doj_val = document.getElementById("doj_text" + no).value;

            document.getElementById("fname_row" + no).innerHTML = fname_val;
            document.getElementById("lname_row" + no).innerHTML = lname_val;
            document.getElementById("dob_row" + no).innerHTML = dob_val;
             document.getElementById("doj_row" + no).innerHTML = doj_val;

            document.getElementById("edit_button" + no).style.display = "block";
            document.getElementById("save_button" + no).style.display = "none";
            }


        function delete_row(no) {
            document.getElementById("row" + no + "").outerHTML = "";
        }

        function add_row() {
            var new_fname = document.getElementById("fname").value;
            var new_lname = document.getElementById("lname").value;
            var new_dob = document.getElementById("dob").value;
            var new_doj = document.getElementById("doj").value;


            var table = document.getElementById("data_table");
            var table_len = (table.rows.length) - 1;
            var row = table.insertRow(table_len).outerHTML = 
                "<tr id='row" + table_len + "'><td id='fname_row" + table_len + "'>" + new_fname + 
                "</td><td id='lname_row" + table_len + "'>" + new_lname + 
                "</td><td id='dob_row" + table_len + "'>" + new_dob + 
                "</td><td id= 'doj_row" + table_len + "'>" + new_doj + 
                "</td><td><input type='button' id='edit_button" + table_len + 
                "' value='Edit' class='edit' onclick='edit_row(" + table_len + ")'> <input type='button' id='save_button" + table_len + 
                "' value='Save' class='save' onclick='save_row(" + table_len + ")'> <input type='button' value='Delete' class='delete' onclick='delete_row(" + table_len + ")'></td></tr>";
            document.getElementById("new_fname").value = "";
            document.getElementById("new_lname").value = "";
            document.getElementById("new_dob").value = "";
            document.getElementById("new_doj").value = "";
        }

</script>

</html>
